project('{project_name}', 'cpp',
  version : '{version}',
  default_options : ['warning_level=3', 'cpp_std=c++23'])

# Find the fourdst-plugin dependency, falling back to the subproject if not found.
plugin_dep = dependency('fourdst_plugin',
  required: true,
  fallback: ['libplugin', 'plugin_dep'],
  default_options: ['tests=false']
)

# Define the shared library for the plugin
shared_library('{project_name}',
  'src/{project_name}.cpp',
  dependencies : [plugin_dep],
  # Add the path to the local copy of the interface header
  include_directories: include_directories('src/include'),
  install : true,
)
